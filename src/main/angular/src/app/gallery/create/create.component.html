<div class="content">
  <div class="main">
    <h2>发布拍品</h2>
    <form nz-form [formGroup]="lotForm">
      <nz-form-item>
        <nz-form-label [nzMd]="6" [nzSm]="24">
          拍品名称
        </nz-form-label>
        <nz-form-control [nzMd]="10" [nzSm]="24">
          <input nz-input formControlName="name">
          <nz-form-explain *ngIf="lotForm.get('name').dirty && lotForm.get('name').errors">
            请填写拍品名称
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzMd]="6" [nzSm]="24">
          描述
        </nz-form-label>
        <nz-form-control [nzMd]="10" [nzSm]="24">
          <input nz-input formControlName="description">
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzMd]="6" [nzSm]="24">
          开始时间
        </nz-form-label>
        <nz-form-control [nzMd]="10" [nzSm]="24">
          <nz-date-picker nzShowTime formControlName="startingTime"></nz-date-picker>
          <nz-form-explain *ngIf="lotForm.get('startingTime').dirty && lotForm.get('startingTime').errors">
            请填写开始时间
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzMd]="6" [nzSm]="24">
          结束时间
        </nz-form-label>
        <nz-form-control [nzMd]="10" [nzSm]="24">
          <nz-date-picker nzShowTime formControlName="endingTime"></nz-date-picker>
          <nz-form-explain *ngIf="lotForm.get('endingTime').dirty && lotForm.get('endingTime').errors">
            请填写结束时间
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzMd]="6" [nzSm]="24">
          起拍价
        </nz-form-label>
        <nz-form-control [nzMd]="10" [nzSm]="24">
          <nz-input-group [nzAddOnBefore]="'￥'">
            <nz-input-number nz-input formControlName="startingPrice" [nzMin]="0"></nz-input-number>
          </nz-input-group>
          <nz-form-explain *ngIf="lotForm.get('startingPrice').dirty && lotForm.get('startingPrice').errors">
            请填写起拍价
          </nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzMd]="6" [nzSm]="24">
          上传图片
        </nz-form-label>
        <nz-form-control [nzMd]="10" [nzSm]="24">
          <nz-upload
            nzListType="picture-card"
            [(nzFileList)]="imageList"
            [nzShowButton]="imageList.length < 4"
            [nzPreview]="handlePreview"
            [nzCustomRequest]="customReq">
            <i nz-icon type="plus"></i>
            <div class="ant-upload-text">Upload</div>
          </nz-upload>
          <nz-modal [nzVisible]="previewVisible" [nzContent]="modalContent" [nzFooter]="null" (nzOnCancel)="previewVisible=false">
            <ng-template #modalContent>
              <img [src]="previewImage" [ngStyle]="{ 'width': '100%' }" />
            </ng-template>
          </nz-modal>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <div nz-col [nzMd]="6" [nzSm]="24"></div>
        <nz-form-control [nzMd]="10" [nzSm]="24">
          <button nz-button type="button" class="register-form-button"
                  [disabled]="submitting"
                  [nzType]="'primary'" (click)="submitLotForm()">提交</button>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
</div>
